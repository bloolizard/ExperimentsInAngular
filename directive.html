<!DOCTYPE html>
<html ng-app="myApp">
<head lang="en">
  <meta charset="UTF-8">
  <title></title>
    <style>
        #map-canvas {
            width: 80%;
            height: 400px;
            margin: 0 auto;
        }
    </style>
  <script src="bower_components/angular/angular.js"></script>
  <script src="bower_components/angular-route/angular-route.js"></script>

    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
    <script>
        function initialize() {
            var myLatlng = new google.maps.LatLng(37.3761862,-122.03071970000002);
            var mapOptions = {
                zoom: 18,
                center: myLatlng
            };
            var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
            var marker = new google.maps.Marker({
                position: myLatlng,
                map: map,
                title: 'Hello World!'
            });
        }
        google.maps.event.addDomListener(window, 'load', initialize);
    </script>
</head>
<body ng-controller="myController">

{{test}}

<googlemap map="map" canvas="map-canvas"></googlemap>

<script>
angular.module('myApp',[]).controller("myController", function($scope){
    $scope.test = 'Hello';
}).directive('googlemap', function(){
    return {
        scope: {
            map: '@',
            canvas: '@'
        },
        template: "<div class={{map}} id={{canvas}}></div>"
    }
});

</script>
</body>
</html>